<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JUJU'S PORTFOLIO - HYPERSPACE</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <style>
        :root {
            --neon-cyan: #00ffff;
            --neon-amber: #ffb300; 
            --neon-green: #00ff41;
            --screen-bg: #050505;
            --grid-color: rgba(0, 255, 255, 0.2);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; user-select: none; }

        body {
            background-color: #000;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Share Tech Mono', monospace;
        }

        /* --- 1. POWER OVERLAY --- */
        #power-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 10000;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transition: opacity 0.5s;
        }

        .power-btn {
            background: transparent; border: 2px solid #444; color: #666;
            font-family: 'Press Start 2P', monospace; font-size: 1.2rem;
            padding: 20px 40px; cursor: pointer; text-transform: uppercase;
            transition: all 0.3s ease; display: flex; flex-direction: column; align-items: center; gap: 15px;
        }
        .power-icon { font-size: 3rem; margin-bottom: 10px; color: #444; transition: 0.3s; }
        
        .power-btn:hover {
            border-color: var(--neon-cyan); color: var(--neon-cyan);
            box-shadow: 0 0 25px rgba(0, 255, 255, 0.2);
        }
        .power-btn:hover .power-icon { color: var(--neon-cyan); text-shadow: 0 0 15px var(--neon-cyan); }

        /* --- 2. TV / MONITOR FRAME --- */
        .tv-bezel { position: relative; width: 100%; height: 100%; background: #000; overflow: hidden; }

        .crt-screen {
            position: relative; width: 100%; height: 100%;
            background: var(--screen-bg); overflow: hidden;
            box-shadow: inset 0 0 150px rgba(0,0,0,1);
            opacity: 0; transform: scale(1, 0); filter: brightness(0);
        }

        .crt-screen.turn-on { animation: tvTurnOn 0.6s cubic-bezier(0.23, 1, 0.32, 1) forwards; }
        @keyframes tvTurnOn {
            0% { transform: scale(1, 0.01); opacity: 0; filter: brightness(30); }
            30% { transform: scale(1, 0.01); opacity: 1; }
            60% { transform: scale(1, 1); filter: brightness(5); }
            100% { transform: scale(1, 1); opacity: 1; filter: brightness(1); }
        }

        .scanlines {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.5) 50%, rgba(0,0,0,0.5));
            background-size: 100% 4px; z-index: 100; pointer-events: none; opacity: 0.6;
        }

        .crt-flicker {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255, 255, 255, 0.02); opacity: 0; z-index: 99; pointer-events: none;
            animation: flicker 0.1s infinite;
        }
        @keyframes flicker { 0% { opacity: 0.02; } 50% { opacity: 0.05; } 100% { opacity: 0.02; } }

        /* --- 3. WARP SPEED BACKGROUND --- */
        .starfield-container {
            position: absolute; 
            top: 50%; left: 50%; 
            width: 0; height: 0; 
            z-index: 0; 
            pointer-events: none; 
            transition: top 0.1s ease-out, left 0.1s ease-out; /* Smoother tracking */
        }

        .warp-star {
            position: absolute;
            top: 0; left: 0;
            width: 500px;
            height: 2px;
            background: linear-gradient(90deg, transparent, white);
            transform-origin: left center;
            opacity: 0;
            animation-name: warpSpeed;
            animation-timing-function: linear;
            animation-iteration-count: infinite;
        }

        @keyframes warpSpeed {
            0% { transform: rotate(var(--angle)) translateX(0px) scaleX(0.1); opacity: 0; }
            10% { opacity: 0.8; }
            100% { transform: rotate(var(--angle)) translateX(150vmax) scaleX(1); opacity: 0; }
        }

        /* UPDATED GRID FOR PARALLAX */
        .grid-floor {
            position: absolute; bottom: -30%; left: -50%; width: 200%; height: 100%;
            background-image: 
                linear-gradient(var(--grid-color) 1px, transparent 1px),
                linear-gradient(90deg, var(--grid-color) 1px, transparent 1px);
            background-size: 50px 50px;
            /* Transform combines base perspective/rotation with mouse tilt variables */
            transform: perspective(400px) rotateX(calc(70deg + var(--tiltX, 0deg))) rotateY(var(--tiltY, 0deg));
            animation: gridScroll 4s linear infinite;
            z-index: 1;
            mask-image: linear-gradient(to top, black 20%, transparent 100%);
            -webkit-mask-image: linear-gradient(to top, black 20%, transparent 100%);
            pointer-events: none;
            transition: transform 0.1s ease-out; /* Smooth tilt */
        }
        @keyframes gridScroll { 0% { background-position: 0 0; } 100% { background-position: 0 50px; } }

        /* --- 4. HUD ELEMENTS --- */
        .hud-layer {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 10;
            pointer-events: none;
        }

        .crosshair {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 400px; height: 400px; border: 1px dashed var(--grid-color);
            border-radius: 50%; opacity: 0.3;
        }
        .crosshair::before, .crosshair::after {
            content: ''; position: absolute; background: var(--neon-cyan); opacity: 0.5;
        }
        .crosshair::before { top: 50%; left: 0; width: 100%; height: 1px; }
        .crosshair::after { top: 0; left: 50%; width: 1px; height: 100%; }

        .radar {
            position: absolute; bottom: 50px; left: 50px;
            width: 100px; height: 100px;
            border: 2px solid var(--neon-green); border-radius: 50%;
            background: radial-gradient(circle, rgba(0, 255, 65, 0.1) 0%, transparent 70%);
            box-shadow: 0 0 10px var(--neon-green);
        }
        .radar-sweep {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            border-radius: 50%;
            background: conic-gradient(from 0deg, transparent 0deg, rgba(0, 255, 65, 0.5) 20deg, transparent 25deg);
            animation: radarSpin 4s linear infinite;
        }
        @keyframes radarSpin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        .data-col {
            position: absolute; top: 20%;
            font-size: 0.7rem; color: var(--neon-cyan); opacity: 0.7; line-height: 1.8;
        }
        .data-col.left { left: 40px; text-align: left; border-left: 2px solid var(--neon-cyan); padding-left: 10px; }
        .data-col.right { right: 40px; text-align: right; border-right: 2px solid var(--neon-amber); padding-right: 10px; color: var(--neon-amber); }

        /* --- 5. MAIN CONTENT BOX --- */
        .content-layer {
            position: relative; z-index: 50; width: 100%; height: 100%;
            display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;
        }

        .main-box {
            padding: 2.5rem; 
            border: 2px solid var(--neon-cyan);
            background: rgba(0, 10, 20, 0.9);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.1);
            position: relative;
            max-width: 800px; width: 90%;
            backdrop-filter: blur(4px);
        }

        .main-box::before {
            content: ''; position: absolute; top: -5px; left: -5px; width: 20px; height: 20px;
            border-top: 2px solid var(--neon-cyan); border-left: 2px solid var(--neon-cyan);
        }
        .main-box::after {
            content: ''; position: absolute; bottom: -5px; right: -5px; width: 20px; height: 20px;
            border-bottom: 2px solid var(--neon-cyan); border-right: 2px solid var(--neon-cyan);
        }

        /* Typewriter Cursor Style */
        .typing-cursor::after {
            content: '|';
            animation: blink 1s step-end infinite;
            color: var(--neon-cyan);
        }
        @keyframes blink { 50% { opacity: 0; } }

        h1 {
            font-family: 'Press Start 2P', monospace;
            font-size: 2.5rem; color: white; margin-bottom: 15px;
            text-shadow: 4px 4px 0 var(--neon-cyan);
            line-height: 1.4;
            min-height: 3.5rem; /* Reserve space to prevent jumping during typing */
        }

        .dept-title {
            color: var(--neon-amber); font-size: 1.1rem; letter-spacing: 2px;
            border-bottom: 1px solid var(--neon-amber); display: inline-block;
            padding-bottom: 10px; margin-bottom: 25px;
            min-height: 1.5rem;
        }

        /* JOKE SECTION */
        .joke-container {
            margin-top: 20px;
            border-top: 1px dashed rgba(255,255,255,0.2);
            padding-top: 20px;
        }

        .joke-text {
            color: #ccc;
            font-size: 1rem;
            margin-bottom: 15px;
            font-style: italic;
            min-height: 3rem;
        }

        .start-btn {
            background: rgba(0, 255, 40, 0.15); 
            border: 1px solid var(--neon-green);
            color: var(--neon-green);
            font-family: 'Press Start 2P', monospace;
            font-size: 1rem; cursor: pointer;
            padding: 15px 30px; 
            text-transform: uppercase;
            animation: pulseBtn 2s infinite;
            transition: all 0.2s;
        }
        .start-btn:hover { background: var(--neon-green); color: black; box-shadow: 0 0 20px var(--neon-green); }

        @keyframes pulseBtn { 0% { opacity: 1; } 50% { opacity: 0.6; } 100% { opacity: 1; } }

        /* Ticker */
        .ticker-wrap {
            position: absolute; bottom: 0; width: 100%; height: 30px;
            background: var(--neon-cyan); color: black;
            display: flex; align-items: center; overflow: hidden;
            font-weight: bold; font-size: 0.9rem;
        }
        .ticker { padding-left: 100%; animation: ticker 25s linear infinite; white-space: nowrap; }
        @keyframes ticker { 100% { transform: translate3d(-100%, 0, 0); } }

        /* Loading */
        #loading {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: black; z-index: 999;
            display: none; flex-direction: column; justify-content: center; align-items: center;
        }
        .load-bar { width: 300px; height: 4px; background: #333; margin-top: 20px; position: relative; }
        .load-fill { position: absolute; top: 0; left: 0; height: 100%; background: var(--neon-cyan); width: 0%; animation: fill 1.8s ease-in-out forwards; }
        @keyframes fill { 100% { width: 100%; } }

        @media (max-width: 768px) {
            h1 { font-size: 1.5rem; }
            .data-col { display: none; }
            .radar { width: 60px; height: 60px; left: 20px; bottom: 40px; }
        }
    </style>
</head>
<body>

    <audio id="bgMusic" loop>
        <source src="mus/bgmusc.mp3" type="audio/mpeg">
    </audio>
    <audio id="clickSfx">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-sci-fi-click-900.mp3" type="audio/mpeg">
    </audio>
    <audio id="hoverSfx">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-sci-fi-interface-beep-901.mp3" type="audio/mpeg">
    </audio>

    <div id="power-overlay">
        <button class="power-btn" id="powerBtn">
            <span class="power-icon">⏻</span>
            SYSTEM START
        </button>
    </div>

    <div class="tv-bezel">
        <div class="crt-screen" id="crtScreen">
            <div class="scanlines"></div>
            <div class="crt-flicker"></div>

            <div class="starfield-container" id="starContainer"></div>
            <div class="grid-floor" id="gridFloor"></div>

            <div class="hud-layer">
                <div class="crosshair"></div>
                <div class="radar"><div class="radar-sweep"></div></div>

                <div class="data-col left">
                    SYS.VOLTAGE: 220V<br>
                    FREQ: 60Hz<br>
                    SPEED: MOUSE_TRACK<br>
                    TEMP: NOMINAL
                </div>

                <div class="data-col right">
                    TARGET: PORTFOLIO<br>
                    SECURITY: LOW<br>
                    NETWORK: BICOL_NET<br>
                    STATUS: STABLE
                </div>
            </div>

            <div class="content-layer">
                <div class="main-box">
                    <h1 id="mainTitle" class="typing-cursor"></h1>
                    
                    <div class="dept-title" id="deptTitle"></div>

                    <div class="joke-container">
                        <div class="joke-text" id="jokeText"></div>
                        <button class="start-btn" id="startBtn">
                            [ GO TO PORTFOLIO ]
                        </button>
                    </div>

                </div>

                <div class="ticker-wrap">
                    <div class="ticker">
                        SYSTEM READY /// MANUAL NAVIGATION ENGAGED /// WELCOME FACULTY AND STUDENTS /// ELECTRICAL ENGINEERING DEPARTMENT /// © 2024 JUJU
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div id="loading">
        <div style="font-family: 'Press Start 2P'; color: var(--neon-cyan);">ENTERING PORTFOLIO...</div>
        <div class="load-bar"><div class="load-fill"></div></div>
    </div>

    <script>
        const powerBtn = document.getElementById('powerBtn');
        const powerOverlay = document.getElementById('power-overlay');
        const crtScreen = document.getElementById('crtScreen');
        const startBtn = document.getElementById('startBtn');
        const clickSfx = document.getElementById('clickSfx');
        const hoverSfx = document.getElementById('hoverSfx');
        const bgMusic = document.getElementById('bgMusic');
        const loading = document.getElementById('loading');
        const starContainer = document.getElementById('starContainer');
        const gridFloor = document.getElementById('gridFloor');

        // Volume controls
        bgMusic.volume = 0.4;
        clickSfx.volume = 0.5;
        hoverSfx.volume = 0.2; // Keep hover sound subtle

        // --- HOVER SOUND EFFECT ---
        function playHoverSound() {
            hoverSfx.currentTime = 0;
            hoverSfx.play().catch(e => {}); // Catch potential autoplay errors
        }
        powerBtn.addEventListener('mouseenter', playHoverSound);
        startBtn.addEventListener('mouseenter', playHoverSound);


        // --- MOUSE TRACKING & PARALLAX ---
        document.addEventListener('mousemove', (e) => {
            // 1. Star origin tracking
            starContainer.style.left = e.clientX + 'px';
            starContainer.style.top = e.clientY + 'px';

            // 2. Grid Parallax calculation
            const centerX = window.innerWidth / 2;
            const centerY = window.innerHeight / 2;
            
            // Calculate distance from center (normalized roughly between -1 and 1)
            const deltaX = (e.clientX - centerX) / centerX;
            const deltaY = (e.clientY - centerY) / centerY;

            // Set CSS variables for tilt. Invert Y for correct feel.
            // Multiply by a small angle (e.g., 5deg) to control tilt amount.
            gridFloor.style.setProperty('--tiltY', `${deltaX * 5}deg`);
            gridFloor.style.setProperty('--tiltX', `${deltaY * -10}deg`);
        });


        // --- TYPEWRITER FUNCTION ---
        function typeWriter(elementId, text, speed = 50) {
            const element = document.getElementById(elementId);
            let i = 0;
            element.innerHTML = ''; // Clear existing content
            element.classList.add('typing-cursor'); // Add blinking cursor

            function type() {
                if (i < text.length) {
                    // Handle HTML breaks specifically
                    if (text.substring(i, i + 4) === '<br>') {
                        element.innerHTML += '<br>';
                        i += 4;
                    } else {
                        element.innerHTML += text.charAt(i);
                        i++;
                    }
                    setTimeout(type, speed);
                } else {
                    // Remove cursor from non-h1 elements when done
                    if(element.tagName !== 'H1') {
                         element.classList.remove('typing-cursor');
                    }
                }
            }
            type();
        }


        // Generate Warp Stars
        function createWarpStars() {
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.classList.add('warp-star');
                const angle = Math.random() * 360;
                const delay = Math.random() * 4; 
                const duration = 2 + Math.random() * 3;
                star.style.setProperty('--angle', `${angle}deg`);
                star.style.animationDelay = `${delay}s`;
                star.style.animationDuration = `${duration}s`;
                starContainer.appendChild(star);
            }
        }
        createWarpStars();

        // Turn On Sequence
        powerBtn.addEventListener('click', () => {
            bgMusic.play().catch(e => console.log(e));
            powerOverlay.style.opacity = '0';
            setTimeout(() => {
                powerOverlay.style.display = 'none';
                crtScreen.classList.add('turn-on');

                // START TYPEWRITER EFFECTS AFTER SCREEN IS ON
                setTimeout(() => {
                    typeWriter('mainTitle', "JUJU'S<br>PORTFOLIO", 70);
                }, 800);

                setTimeout(() => {
                    typeWriter('deptTitle', "BICOL UNIVERSITY<br>ELECTRICAL ENGINEERING DEPT.", 40);
                }, 2500);

                setTimeout(() => {
                    typeWriter('jokeText', "do you intend to stay here or visit the portfolio? if you do, click this button:", 30);
                }, 5000);

            }, 500);
        });

        // Enter Site Sequence
        function enterSite() {
            clickSfx.currentTime = 0;
            clickSfx.play();
            loading.style.display = 'flex';
            setTimeout(() => {
                window.location.href = 'index.html';
            }, 2000);
        }

        startBtn.addEventListener('click', enterSite);

        // Keyboard support
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                if (powerOverlay.style.opacity !== '0') powerBtn.click();
                else enterSite();
            }
        });
    </script>
</body>
</html>